!function(){"use strict";var e=document.getElementById("canvas"),a=e.getContext("2d"),t=e.clientWidth,n=e.clientHeight,c=0,r=0,i=function(){var e=navigator.getGamepads()[0];c=Math.abs(e.axes[0])>.1?e.axes[0]:0,r=Math.abs(e.axes[1])>.1?-1*e.axes[1]:0},o={},s=function(e,a,t,n,c){var r={id:e,x:a,y:t,r:n,c:c};o[e]=r},h=function(e){a.save(),a.beginPath(),a.arc(e.x,e.y,e.r,0,2*Math.PI,!0),a.closePath(),a.fillStyle=e.c,a.fill(),a.restore()};s("ship",50,40,40,"rgb(200,0,0)"),s("earth",300,300,40,"rgb(0,200,0"),document.onkeydown=function(e){switch(e.keyCode){case 37:c=-1;break;case 38:r=1;break;case 39:c=1;break;case 40:r=-1}},document.onkeyup=function(e){switch(e.keyCode){case 37:c=0;break;case 38:r=0;break;case 39:c=0;break;case 40:r=0}};var d=navigator.getGamepads()[0];console.log(d),d.connected===!0&&(document.getElementById("js-connected").innerHTML="Gamepad Connected: "+d.id);var u=function(){i(),o.ship.x+=2*c,o.ship.y-=2*r},g=function(e){var a=o.ship.r+o.earth.r,t=Math.sqrt(Math.pow(o.ship.x-o.earth.x,2)+Math.pow(o.ship.y-o.earth.y,2));o.ship.c=a>t?"rgb(0,0,200)":"rgb(200,0,0)",o.earth.x=100*Math.sin(e/1e3)+300,o.earth.y=100*Math.cos(e/1e3)+300},b=function(){a.clearRect(0,0,t,n);for(var e in o)h(o[e])},f=function(e){u(),g(e),b(),window.requestAnimationFrame(f)};window.requestAnimationFrame(f)}();