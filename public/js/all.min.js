!function(){"use strict";var t=document.getElementById("canvas"),e=t.getContext("2d"),a=t.clientWidth,n=t.clientHeight,i=0,o=0,s=function(t,e,a,n){this.x=t,this.y=e,this.radius=a,this.color=n};s.prototype.update=function(t){},s.prototype.draw=function(t){t.save(),t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI,!0),t.closePath(),t.fillStyle=this.color,t.fill(),t.restore()},s.prototype.collidesWith=function(t){var e=t.radius+this.radius,a=Math.sqrt(Math.pow(t.x-this.x,2)+Math.pow(t.y-this.y,2));return e>=a};var r=function(t,e,a,n){this.x=t,this.y=e,this.centerX=t,this.centerY=e,this.radius=a,this.color=n};r.prototype=new s,r.prototype.update=function(t){this.x=100*Math.sin(t/1e3)+this.centerX,this.y=100*Math.cos(t/1e3)+this.centerY};var c=new s(50,40,40,"red"),h=[];h.push(new r(300,300,20,"green")),h.push(new r(150,150,20,"blue")),h.push(c);var u=function(){var t=navigator.getGamepads()[0];t&&(i=Math.abs(t.axes[0])>.1?t.axes[0]:0,o=Math.abs(t.axes[1])>.1?-1*t.axes[1]:0)};document.onkeydown=function(t){switch(t.keyCode){case 37:i=-1;break;case 38:o=1;break;case 39:i=1;break;case 40:o=-1}},document.onkeyup=function(t){switch(t.keyCode){case 37:i=0;break;case 38:o=0;break;case 39:i=0;break;case 40:o=0}};var d=function(){u(),c.x+=2*i,c.y-=2*o},l=function(t){c.color="red";for(var e=0;e<h.length;e++)h[e].update(t);for(var e=0;e<h.length;e++){var a=h[e];a instanceof r&&c.collidesWith(a)&&(c.color="orange")}},f=function(){e.clearRect(0,0,a,n);for(var t=0;t<h.length;t++)h[t].draw(e)},p=function(t){d(),l(t),f(),window.requestAnimationFrame(p)};window.requestAnimationFrame(p)}();